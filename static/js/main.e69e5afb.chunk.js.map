{"version":3,"sources":["index.js"],"names":["Letter","i","this","props","c","cursor","cursorStyle","letterid","letterclass","id","key","className","React","Component","Phrase","str","split","map","spanify","Main","state","handleKey","bind","document","addEventListener","e","newstate","console","log","keyCode","altKey","ctrlKey","metaKey","preventDefault","length","setState","ReactDOM","render","getElementById"],"mappings":"iRAUMA,G,6KAEF,IAAIC,EAAIC,KAAKC,MAAMF,EACfG,EAAIF,KAAKC,MAAMC,EACfC,EAASH,KAAKC,MAAME,OACpBC,EAAcJ,KAAKC,MAAMG,YAEzBC,EAAc,UAAYN,EAC1BO,EAAcP,GAAKI,EAASC,EAAc,kBAE9C,OAAO,0BAAMG,GAAIF,EAAUG,IAAKH,EAAUI,UAAWH,GAC3CJ,O,GAXOQ,IAAMC,YAgBrBC,E,wKACO,IAAD,OACR,OACE,8BACGZ,KAAKC,MAAMY,IAAIC,MAAM,IACpBC,KAAI,SAACb,EAAGH,GAAJ,OAAU,kBAACD,EAAD,CAAQU,IAAKT,EAAGA,EAAGA,EAAGG,EAAGA,EAAGC,OAAQ,EAAKF,MAAME,OACxCC,YAAa,EAAKH,MAAMG,oB,+BAMnD,OACE,2BAAIJ,KAAKgB,e,GAbMN,IAAMC,WAkBrBM,E,kDACJ,WAAYhB,GAAQ,IAAD,8BACjB,cAAMA,IAEDiB,MAAQ,CACXf,OAAQ,EACRC,YA3CgB,qBA4ChBS,IA9CK,qTAiDP,EAAKM,UAAY,EAAKA,UAAUC,KAAf,gBATA,E,gEAajBC,SAASC,iBAAiB,UAAWtB,KAAKmB,WAAW,K,gCAG7CI,GAeR,IAAIC,GAdJC,QAAQC,IAAIH,GACPA,EAAEI,SAAW,IAAMJ,EAAEI,SAAW,MAAQJ,EAAEK,SAAWL,EAAEM,UAAYN,EAAEO,SACtD,GAAbP,EAAEI,WAKPJ,EAAEQ,iBAQJN,QAAQC,IAAI1B,KAAKkB,MAAMf,OAAQH,KAAKkB,MAAML,IAAIb,KAAKkB,MAAMf,QAASoB,EAAEI,SAGlEH,EADExB,KAAKkB,MAAML,IAAIb,KAAKkB,MAAMf,SAAWoB,EAAEf,IAC9B,CAACL,QAASH,KAAKkB,MAAMf,OAAS,GAAKH,KAAKkB,MAAML,IAAImB,OACjD5B,YA1EI,sBA6EL,CAACD,OAAQH,KAAKkB,MAAMf,OAAQC,YA5EvB,qBA8ElBJ,KAAKiC,SAAST,M,+BAId,OACE,yBAAKf,UAAU,QACb,yBAAKA,UAAU,QACb,kBAACG,EAAD,CAAQC,IAAKb,KAAKkB,MAAML,IAChBV,OAAQH,KAAKkB,MAAMf,OACnBC,YAAaJ,KAAKkB,MAAMd,oB,GAnDvBM,IAAMC,WA0DzBuB,IAASC,OACP,kBAAClB,EAAD,MACAI,SAASe,eAAe,W","file":"static/js/main.e69e5afb.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\n//let poem = \"The moving finger writes; and, having writ, moves on.\";\nlet poem = \"The only verdict is vengeance; a vendetta, held as a votive, not in vain, for the value and veracity of such shall one day vindicate the vigilant and the virtuous. Verily, this vichyssoise of verbiage veers most verbose, so let me simply add that it's my very good honor to meet you and you may call me V.\";\n\nlet goodLetterStyle = \"active-letter-good\",\n    badLetterStyle  = \"active-letter-bad\";\n\nclass Letter extends React.Component {\n  render() {\n    let i = this.props.i,\n        c = this.props.c,\n        cursor = this.props.cursor,\n        cursorStyle = this.props.cursorStyle;\n\n    var letterid    = \"letter-\" + i,\n        letterclass = i == cursor ? cursorStyle : \"inactive-letter\";\n\n    return <span id={letterid} key={letterid} className={letterclass}>\n             {c}\n           </span>;\n  }\n}\n\nclass Phrase extends React.Component {\n  spanify() {\n    return (\n      <span>\n        {this.props.str.split(\"\")\n         .map((c, i) => <Letter key={i} i={i} c={c} cursor={this.props.cursor}\n                               cursorStyle={this.props.cursorStyle}/>)}\n      </span>\n    );\n  }\n\n  render() {\n    return (\n      <p>{this.spanify()}</p>\n    );\n  }\n}\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      cursor: 0,\n      cursorStyle: goodLetterStyle,\n      str: poem\n    };\n\n    this.handleKey = this.handleKey.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.handleKey, false);\n  }\n\n  handleKey(e) {\n    console.log(e);\n    if ((e.keyCode >= 32 && e.keyCode <= 223 && !e.altKey && !e.ctrlKey && !e.metaKey)\n        || e.keyCode == 8) {\n      // Prevent keys like backspace affecting the page. Controversial,\n      // but the app is keypress-based and so not unreasonable that it\n      // would override some keys. Maybe this should be relaxed: right\n      // now my only concern is backspace.\n      e.preventDefault();\n    }\n    else {\n      // Ignore non-printing characters.\n      return;\n    }\n\n    var newstate;\n    console.log(this.state.cursor, this.state.str[this.state.cursor], e.keyCode);\n    \n    if (this.state.str[this.state.cursor] == e.key) {\n      newstate = {cursor: (this.state.cursor + 1) % this.state.str.length,\n                  cursorStyle: goodLetterStyle};\n    }\n    else {\n      newstate = {cursor: this.state.cursor, cursorStyle: badLetterStyle};  \n    }\n    this.setState(newstate);\n  }\n\n  render() {\n    return (\n      <div className=\"main\">\n        <div className=\"poem\">\n          <Phrase str={this.state.str}\n                  cursor={this.state.cursor}\n                  cursorStyle={this.state.cursorStyle} />\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n  <Main />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}